{"ast":null,"code":"var _jsxFileName = \"E:\\\\Abhishek\\\\CMN\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Login from \"./Component/Login/Login\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./App.css\";\nimport Notfound from \"./Component/Notfound/Notfound\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\nimport useToken from \"./Component/useToken\";\nimport firebase from \"firebase/compat/app\";\nimport \"firebase/compat/auth\";\nimport Rewards from \"./Component/Rewards/Rewards\";\nimport Profile from \"./Component/Profile/Profile\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const {\n    token,\n    setToken\n  } = useToken();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [viewOtpForm, setViewOtpForm] = useState(false);\n  const [user, setUser] = useState(false);\n\n  const otpFormReset = () => {\n    setViewOtpForm(false);\n    setIsSubmitting(false);\n  };\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyDjkljcSEMIo606FH54T6Ru1bWCqMpzmgY\",\n    authDomain: \"cmnreact-eb742.firebaseapp.com\",\n    projectId: \"cmnreact-eb742\",\n    storageBucket: \"cmnreact-eb742.appspot.com\",\n    messagingSenderId: \"202979541848\",\n    appId: \"1:202979541848:web:88a78d31cd6fc595141b2d\"\n  };\n  useEffect(() => {\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\"recaptcha-container\", {\n      size: \"invisible\",\n      callback: function (response) {\n        console.log(\"Captcha Resolved\");\n        this.onSignInSubmit();\n      },\n      defaultCountry: \"IN\"\n    });\n  }, []);\n\n  if (!firebase.apps.length) {\n    firebase.initializeApp(firebaseConfig);\n  } else {\n    firebase.app(); // if already initialized, use that one\n  }\n\n  const auth = firebase.auth();\n  auth.onAuthStateChanged(user => {\n    if (user) {\n      setUser(user);\n    }\n  });\n\n  const loginSubmit = mobile => {\n    // e.preventDefault();\n    console.log(mobile);\n    setIsSubmitting(true); // let phone_number = \"+91\" + e.target.mobile.value;\n\n    let phone_number = mobile;\n    const appVerifier = window.recaptchaVerifier;\n    auth.signInWithPhoneNumber(phone_number, appVerifier).then(confirmationResult => {\n      // SMS sent. Prompt user to type the code from the message, then sign the\n      // user in with confirmationResult.confirm(code).\n      console.log(\"otp sent\");\n      setViewOtpForm(true);\n      window.confirmationResult = confirmationResult; // ...\n    }).catch(error => {\n      // Error; SMS not sent\n      // ...\n      alert(error.message);\n    });\n  };\n\n  const otpSubmit = getOtp => {\n    //e.preventDefault();\n    var opt_number = getOtp;\n    window.confirmationResult.confirm(opt_number).then(confirmationResult => {\n      console.log(confirmationResult); // window.open(\"/new\", \"_self\");\n\n      window.open(\"/rewards\", \"_self\");\n    }).catch(error => {\n      // User couldn't sign in (bad verification code?)\n      alert(error.message);\n    });\n  };\n\n  const signOut = () => {\n    firebase.auth().signOut().then(() => {\n      window.open(\"/\", \"_self\");\n    }).catch(error => {\n      // An error happened.\n      console.log(error);\n    });\n  }; // if (!token) {\n  //   return <Login setToken={setToken} />\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"recaptcha-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(Login, {\n          setToken: setToken,\n          loginSubmit: loginSubmit,\n          otpSubmit: otpSubmit,\n          isSubmitting: isSubmitting,\n          viewOtpForm: viewOtpForm,\n          otpFormReset: otpFormReset\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/new\",\n        element: /*#__PURE__*/_jsxDEV(Notfound, {\n          signOut: signOut,\n          user: user\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 20\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/rewards\",\n        element: /*#__PURE__*/_jsxDEV(Rewards, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/profile\",\n        element: /*#__PURE__*/_jsxDEV(Profile, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 41\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"bQpbuAdjTgtdpqHKhd2zTmjI+1s=\", false, function () {\n  return [useToken];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","Login","Notfound","BrowserRouter","Routes","Route","useToken","firebase","Rewards","Profile","App","token","setToken","isSubmitting","setIsSubmitting","viewOtpForm","setViewOtpForm","user","setUser","otpFormReset","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","window","recaptchaVerifier","auth","RecaptchaVerifier","size","callback","response","console","log","onSignInSubmit","defaultCountry","apps","length","initializeApp","app","onAuthStateChanged","loginSubmit","mobile","phone_number","appVerifier","signInWithPhoneNumber","then","confirmationResult","catch","error","alert","message","otpSubmit","getOtp","opt_number","confirm","open","signOut"],"sources":["E:/Abhishek/CMN/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Login from \"./Component/Login/Login\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\nimport Notfound from \"./Component/Notfound/Notfound\";\r\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\r\nimport useToken from \"./Component/useToken\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport \"firebase/compat/auth\";\r\nimport Rewards from \"./Component/Rewards/Rewards\";\r\nimport Profile from \"./Component/Profile/Profile\";\r\n\r\nfunction App() {\r\n  const { token, setToken } = useToken();\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [viewOtpForm, setViewOtpForm] = useState(false);\r\n  const [user, setUser] = useState(false);\r\n\r\n  const otpFormReset = () => {\r\n    setViewOtpForm(false);\r\n    setIsSubmitting(false);\r\n  };\r\n\r\n  const firebaseConfig = {\r\n    apiKey: \"AIzaSyDjkljcSEMIo606FH54T6Ru1bWCqMpzmgY\",\r\n    authDomain: \"cmnreact-eb742.firebaseapp.com\",\r\n    projectId: \"cmnreact-eb742\",\r\n    storageBucket: \"cmnreact-eb742.appspot.com\",\r\n    messagingSenderId: \"202979541848\",\r\n    appId: \"1:202979541848:web:88a78d31cd6fc595141b2d\",\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.recaptchaVerifier = new firebase.auth.RecaptchaVerifier(\r\n      \"recaptcha-container\",\r\n      {\r\n        size: \"invisible\",\r\n        callback: function (response) {\r\n          console.log(\"Captcha Resolved\");\r\n          this.onSignInSubmit();\r\n        },\r\n        defaultCountry: \"IN\",\r\n      }\r\n    );\r\n  }, []);\r\n\r\n  if (!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n  } else {\r\n    firebase.app(); // if already initialized, use that one\r\n  }\r\n\r\n  const auth = firebase.auth();\r\n\r\n  auth.onAuthStateChanged((user) => {\r\n    if (user) {\r\n      setUser(user);\r\n    }\r\n  });\r\n\r\n  const loginSubmit = (mobile) => {\r\n    // e.preventDefault();\r\n    console.log(mobile);\r\n    setIsSubmitting(true);\r\n    // let phone_number = \"+91\" + e.target.mobile.value;\r\n    let phone_number = mobile;\r\n    const appVerifier = window.recaptchaVerifier;\r\n\r\n    auth\r\n      .signInWithPhoneNumber(phone_number, appVerifier)\r\n      .then((confirmationResult) => {\r\n        // SMS sent. Prompt user to type the code from the message, then sign the\r\n        // user in with confirmationResult.confirm(code).\r\n        console.log(\"otp sent\");\r\n\r\n        setViewOtpForm(true);\r\n        window.confirmationResult = confirmationResult;\r\n        // ...\r\n      })\r\n      .catch((error) => {\r\n        // Error; SMS not sent\r\n        // ...\r\n        alert(error.message);\r\n      });\r\n  };\r\n\r\n  const otpSubmit = (getOtp) => {\r\n    //e.preventDefault();\r\n    var opt_number = getOtp;\r\n\r\n    window.confirmationResult\r\n      .confirm(opt_number)\r\n      .then((confirmationResult) => {\r\n        console.log(confirmationResult);\r\n        // window.open(\"/new\", \"_self\");\r\n        window.open(\"/rewards\", \"_self\");\r\n      })\r\n      .catch((error) => {\r\n        // User couldn't sign in (bad verification code?)\r\n        alert(error.message);\r\n      });\r\n  };\r\n\r\n  const signOut = () => {\r\n    firebase\r\n      .auth()\r\n      .signOut()\r\n      .then(() => {\r\n        window.open(\"/\", \"_self\");\r\n      })\r\n      .catch((error) => {\r\n        // An error happened.\r\n        console.log(error);\r\n      });\r\n  };\r\n\r\n  // if (!token) {\r\n  //   return <Login setToken={setToken} />\r\n  // }\r\n  return (\r\n    <BrowserRouter>\r\n      <div id=\"recaptcha-container\"></div>\r\n      <Routes>\r\n        <Route\r\n          path=\"/\"\r\n          element={\r\n            <Login\r\n              setToken={setToken}\r\n              loginSubmit={loginSubmit}\r\n              otpSubmit={otpSubmit}\r\n              isSubmitting={isSubmitting}\r\n              viewOtpForm={viewOtpForm}\r\n              otpFormReset={otpFormReset}\r\n            />\r\n          }\r\n        />\r\n        <Route\r\n          path=\"/new\"\r\n          element={<Notfound signOut={signOut} user={user} />}\r\n        />\r\n        <Route path=\"/rewards\" element={<Rewards />} />\r\n        <Route path=\"/profile\" element={<Profile />} />\r\n      </Routes>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}